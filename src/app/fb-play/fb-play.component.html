<div class="container">
    <div *ngIf="!isLoggedIn">
        <p>You have to log into facebook so that I can analyze your posts. They will not be saved! </p>
        <button md-button color="primary" (click)="fbLogin()">Click here to login</button>
    </div>

    <div *ngIf="isLoggedIn && !loadingClassifications">
        <p>Now that you're logged in, we can begin analyzing. First, select a style of classification.</p>
        <md-radio-group [(ngModel)]="action">
            <md-radio-button value="classify">Overall Sentiment</md-radio-button>
            <md-radio-button value="keyword">Keywords</md-radio-button>
        </md-radio-group>
        <p><span class="accent">Overall Sentiment</span> is going to return how negative or positive your posts are for each post.</p>
        <p><span class="accent">Keywords</span> will return what words make your posts positive or negative.</p>
        <button *ngIf="action" md-raised-button color="primary" (click)="getClassifications()">Analyze sentiment!</button>
    </div>
    <p *ngIf="loadingClassifications">I'm talking to servers... might be a few seconds.</p>
    <md-grid-list cols="3" rowHeight="50px" *ngIf="displayTiles && displayTiles.length > 0 && action === 'classify'">
        <md-grid-tile>Facebook Post</md-grid-tile>
        <md-grid-tile>Negative Sentiment</md-grid-tile>
        <md-grid-tile>Positive Sentiment</md-grid-tile>
        <md-grid-tile
                *ngFor="let tile of displayTiles"
                [style.background]="tile.color">
            {{tile.text}}
        </md-grid-tile>
    </md-grid-list>
    <div *ngIf="action">
        <p>If the color is pink, this means your message is positive. The pinker, the more certain the positivity. The lighter, the less certain.</p>
        <i *ngFor="let color of pink" [style.color]="color" class="material-icons">indeterminate_check_box</i>
        <p>If the color is pink, this means your message is negative. The darker, the more certain the negativity. The lighter, the less certain.</p>
        <i *ngFor="let color of blueGrey" [style.color]="color" class="material-icons">indeterminate_check_box</i>
    </div>
    <md-grid-list cols="3" rowHeight="3em" *ngIf="displayTiles && displayTiles.length > 0 && action === 'keyword'">
        <md-grid-tile colspan="2" rowspan="2">Facebook Post</md-grid-tile>
        <md-grid-tile colspan="1" rowspan="2">Keyword Results</md-grid-tile>
        <md-grid-tile
                *ngFor="let tile of displayTiles"
                [style.background]="tile.color"
                [colspan] = "tile.colspan"
                [rowspan] = "tile.rowspan"
                [style.color] = "tile.textColor">
            <p>{{tile.text}}</p>
        </md-grid-tile>
    </md-grid-list>
    <div *ngIf="loading">
        It takes about 10 seconds... fetching that data.... If it takes longer, app is probably broken
    </div>
    <p *ngIf="error">We got an error, Please tell rob this: {{error}}</p>
</div>
<!--
<div *ngIf="isLoggedIn && !loading">
    <button  md-raised-button color="primary" (click)="getFeedLikes()">Get your feed likes</button>
    <p *ngIf="totalLikes">Total Likes: {{totalLikes}}</p>
    <div *ngFor="let who of whoLikes; let idx=index;">
        <p>{{idx + 1}}. {{who.name}}:{{who.num}}</p>
    </div>
</div>-->
